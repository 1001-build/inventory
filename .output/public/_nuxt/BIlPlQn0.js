import{c as U,_ as J,a as K,b as O}from"./CM1mw80p.js";import{g as Q,c as h,o as l,r as W,n as X,h as e,i as Y,e as Z,j as tt,f as st,k as et,l as p,w as s,m as ot,b as t,a as n,d as f,t as a,p as B,q as D,s as q,v as j}from"./DcS_IoLn.js";import{_ as nt}from"./CRIyQ5VA.js";import{u as at,a as it,t as lt,s as rt,F as ct,_ as mt,b as ut,c as _t,d as dt}from"./Cz7H0uik.js";import{c as pt,_ as ft}from"./0EevIDD-.js";import{_ as ht}from"./DxX4PbHm.js";import gt from"./B7FLhmS-.js";import{u as wt}from"./jfAtkETX.js";import"./C5eF55Z1.js";import"./C1or8vyg.js";import"./B9UWe-Zm.js";import"./BdSqjPKa.js";const xt=["id"],bt=Q({__name:"FormDescription",props:{class:{}},setup(g){const o=g,{formDescriptionId:c}=at();return(m,w)=>(l(),h("p",{id:e(c),"data-slot":"form-description",class:X(e(pt)("text-muted-foreground text-sm",o.class))},[W(m.$slots,"default")],10,xt))}}),vt={key:0,class:"flex items-center justify-center"},Ft={class:"ml-2"},yt={key:1},St={class:"flex items-center gap-4 px-4"},$t={class:"w-full flex justify-center items-center gap-8 px-4"},Ct={class:"hover:cursor-pointer"},kt={class:"hover:cursor-pointer"},zt={__name:"signin",setup(g){const{t:o}=Y(),c=Z(),m=tt(),{redirectTo:w,toast:x}=m.query,I=et(),P=lt(rt),{handleSubmit:R,isSubmitting:M,isFieldDirty:b}=it({validationSchema:P}),v=R(async u=>{await c.signin({email:u.email,password:u.password,redirectTo:w})}),N=()=>j("/auth/signup"),V=()=>j("/auth/password/reset/request");return st(()=>{wt({identifier:".signin-card"}),x&&x=="authRequired"&&I({title:o("auth.signin.toast.authRequired.title"),description:o("auth.signin.toast.authRequired.description")})}),(u,i)=>{const A=K,z=J,F=_t,y=ut,S=ht,$=dt,C=mt,k=ct,_=ft,E=bt,G=O,d=gt,H=nt,L=U,T=ot("auto-animate");return l(),p(L,{class:"w-[95%] md:w-[400px] flex flex-col signin-card"},{default:s(()=>[t(z,null,{default:s(()=>[t(A,null,{default:s(()=>[f(a(e(o)("auth.signin.title")),1)]),_:1})]),_:1}),n("form",{class:"w-full flex flex-col gap-4",onSubmit:i[0]||(i[0]=B((...r)=>e(v)&&e(v)(...r),["prevent"]))},[t(G,{class:"flex flex-col gap-2"},{default:s(()=>[t(k,{name:"email","validate-on-blur":!e(b)},{default:s(({field:r})=>[t(C,{class:"w-full"},{default:s(()=>[D((l(),p(y,{class:"flex items-center justify-between text-sm md:text-base"},{default:s(()=>[n("span",null,a(e(o)("auth.signin.email.title")),1),t(F)]),_:1})),[[T]]),t($,null,{default:s(()=>[t(S,q({type:"email",autocomplete:"username",placeholder:e(o)("auth.signin.email.placeholder")},r),null,16,["placeholder"])]),_:2},1024)]),_:2},1024)]),_:1},8,["validate-on-blur"]),t(k,{name:"password","validate-on-blur":!e(b)},{default:s(({field:r})=>[t(C,{class:"w-full"},{default:s(()=>[D((l(),p(y,{class:"flex items-center justify-between text-sm md:text-base"},{default:s(()=>[n("span",null,a(e(o)("auth.signin.password.title")),1),t(F)]),_:1})),[[T]]),t($,null,{default:s(()=>[t(S,q({type:"password",autocomplete:"current-password",placeholder:e(o)("auth.signin.password.placeholder")},r),null,16,["placeholder"])]),_:2},1024),t(E,{class:"text-right text-sm"},{default:s(()=>[t(_,{variant:"link",onClick:B(V,["prevent"]),class:"hover:cursor-pointer"},{default:s(()=>[f(a(e(o)("auth.signin.forgotPasswordButton")),1)]),_:1})]),_:1})]),_:2},1024)]),_:1},8,["validate-on-blur"])]),_:1}),t(H,{class:"flex flex-col gap-2"},{default:s(()=>[t(_,{type:"submit",class:"w-full"},{default:s(()=>[e(M)?(l(),h("div",vt,[t(d,{name:"svg-spinners:90-ring-with-bg",class:"w-5 h-5 animate-spin"}),n("span",Ft,a(e(o)("auth.signin.submitting")),1)])):(l(),h("div",yt,a(e(o)("auth.signin.submitButton")),1))]),_:1}),t(_,{variant:"link",class:"hover:cursor-pointer",onClick:N},{default:s(()=>[f(a(e(o)("auth.signin.noAccountButton")),1)]),_:1})]),_:1})],32),n("div",St,[i[1]||(i[1]=n("div",{class:"w-full h-0.5 bg-accent"},null,-1)),n("span",null,a(e(o)("auth.signin.seperator")),1),i[2]||(i[2]=n("div",{class:"w-full h-0.5 bg-accent"},null,-1))]),n("div",$t,[n("button",Ct,[t(d,{name:"logos:google-icon",class:"w-8 h-8 md:w-16 md:h-16"})]),n("button",kt,[t(d,{name:"cib:line",class:"w-8 h-8 md:w-16 md:h-16 text-green-500"})])])]),_:1})}}};export{zt as default};
