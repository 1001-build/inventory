{"version":3,"file":"index-IbAP2EaB.js","sources":["../../../../../../../app/pages/auth/password/reset/index.vue"],"sourcesContent":["<template>\n  <Card class=\"w-[95%] md:w-[400px] flex flex-col password-reset-form-card\">\n    <CardHeader>\n      <CardTitle>Set New Password</CardTitle>\n      <CardDescription>Enter your new password</CardDescription>\n    </CardHeader>\n\n    <form class=\"w-full flex flex-col gap-4\" @submit.prevent=\"onSubmit\">\n\n      <CardContent class=\"flex flex-col gap-2\">\n        <!-- New Password (required) -->\n        <FormField v-slot=\"{ field }\" name=\"newPassword\" :validate-on-blur=\"!isFieldDirty\">\n          <FormItem class=\"w-full\">\n            <FormLabel v-auto-animate class=\"flex items-center justify-between text-sm md:text-base\">\n              <span>New Password</span>\n              <FormMessage />\n            </FormLabel>\n            <FormControl>\n              <Input type=\"password\" autocomplete=\"new-password\" placeholder=\"New Password\" v-bind=\"field\" />\n            </FormControl>\n          </FormItem>\n        </FormField>\n\n        <!-- Confirm New Password (required) -->\n        <FormField v-slot=\"{ field }\" name=\"newPasswordConfirmation\" :validate-on-blur=\"!isFieldDirty\">\n          <FormItem class=\"w-full\">\n            <FormLabel v-auto-animate class=\"flex items-center justify-between text-sm md:text-base\">\n              <span>Confirm New Password</span>\n              <FormMessage />\n            </FormLabel>\n            <FormControl>\n              <Input type=\"password\" autocomplete=\"new-password\" placeholder=\"Confirm New Password\" v-bind=\"field\" />\n            </FormControl>\n          </FormItem>\n        </FormField>\n      </CardContent>\n\n      <CardFooter class=\"flex flex-col gap-2\">\n        <!-- Submit -->\n        <Button type=\"submit\" class=\"w-full\">\n          <div v-if=\"isSubmitting\" class=\"flex items-center justify-center\">\n            <Icon name=\"svg-spinners:90-ring-with-bg\" class=\"w-5 h-5 animate-spin\" />\n            <span class=\"ml-2\">Resetting...</span>\n          </div>\n          <div v-else>\n            Reset Password\n          </div>\n        </Button>\n        <!-- Back to Signin -->\n        <Button variant=\"link\" class=\"hover:cursor-pointer\" @click=\"onBackToSignin\">\n          Back to Sign In\n        </Button>\n      </CardFooter>\n    </form>\n\n  </Card>\n</template>\n\n<script setup>\ndefinePageMeta({\n  title: 'Reset Password',\n  description: 'Set new password',\n  layout: 'auth',\n});\n\nimport { useForm } from 'vee-validate';\nimport { toTypedSchema } from '@vee-validate/zod';\nimport { passwordResetSchema } from '#shared/validators/auth';\n\nconst userStore = useUserStore();\nconst route = useRoute();\nconst showToast = useShowToast();\n\n// Get token from query params\nconst token = computed(() => route.query.token);\n\n// Check if token exists\nonMounted(() => {\n  if (!token.value) {\n    showToast({\n      title: \"Invalid Reset Link\",\n      description: \"The password reset link is invalid or has expired.\",\n    });\n    navigateTo('/auth/password/reset/request');\n  }\n  usePrimaryAnimation({ identifier: \".password-reset-form-card\" })\n});\n\n/////////////////////////////////////////////////////////////////////\n// Form Setup\n/////////////////////////////////////////////////////////////////////\n\n// Use shared schema (same validation as backend, includes password strength requirements)\nconst formSchema = toTypedSchema(passwordResetSchema);\n\nconst { handleSubmit, isSubmitting, isFieldDirty } = useForm({\n  validationSchema: formSchema,\n});\n\n/////////////////////////////////////////////////////////////////////\n// Handlers\n/////////////////////////////////////////////////////////////////////\n\nconst onSubmit = handleSubmit(async (values) => {\n  await userStore.resetPassword({\n    token: token.value,\n    newPassword: values.newPassword,\n    newPasswordConfirmation: values.newPasswordConfirmation,\n  });\n});\n\nconst onBackToSignin = () => navigateTo('/auth/signin');\n</script>\n"],"names":["_ssrRenderComponent","_mergeProps","_push","_parent","_","_scopeId","_createVNode","_unref","_ssrGetDirectiveProps","_createBlock","_withCtx","_openBlock"],"mappings":"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"}